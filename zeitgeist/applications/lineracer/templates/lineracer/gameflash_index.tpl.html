<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/lineracer.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- InstanceBeginEditable name="doctitle" -->
<title>Lineracer</title>

<script language="JavaScript" type="text/javascript" src="@@{templatepath}@@/includes/Spry/SpryData.js"></script>	
<script language="JavaScript" type="text/javascript" src="@@{templatepath}@@/includes/Spry/xpath.js"></script>
<script language="Javascript" type="text/javascript" src="@@{templatepath}@@/includes/Spry/SpryNestedXMLDataSet.js"></script>
<script language="Javascript" type="text/javascript" src="@@{templatepath}@@/js/SpryExtensions.js"></script>

<script type="text/javascript">	

	var dsGamedata = new  Spry.Data.XMLDataSet("@@{[game.update]}@@&playerid=@@{playerid}@@&playerkey=@@{playerkey}@@", "container/element", { useCache:  false, loadInterval: 10000 }); 
	var dsPlayerdata = new Spry.Data.NestedXMLDataSet(dsGamedata, "players/element");

	function stopUpdating()
	{
		dsGamedata.stopLoadInterval();
	}

</script>

<!-- InstanceEndEditable -->

<link rel="stylesheet" type="text/css" href="@@{templatepath}@@/css/lineracer.css" />

<script language="javascript" type="text/javascript">


</script>
	
<!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
</head>

<body>

	<!-- TemplateBeginBlock name="usermessage" -->
		<h3 class="usermessage"><img src="@@{templatepath}@@/nuvola/16x16/actions/ok.png" alt="" align="left" style="margin-right:5px;" /> @@{usermessage}@@</h3>
	<!-- TemplateEndBlock -->

	<!-- TemplateBeginBlock name="userwarnings" -->
		<h3 class="userwarning"><img src="@@{templatepath}@@/nuvola/16x16/actions/messagebox_info.png" alt="" align="left" style="margin-right:5px;" /> @@{userwarning}@@</h3>
	<!-- TemplateEndBlock -->

	<!-- TemplateBeginBlock name="usererrors" -->
		<h3 class="usererror"><img src="@@{templatepath}@@/nuvola/16x16/actions/no.png" alt="" align="left" style="margin-right:5px;" /> @@{usererror}@@</h3>
	<!-- TemplateEndBlock -->
	
<!-- InstanceBeginEditable name="body" -->

<div spry:region="dsGamedata">
	<div spry:state="ready">
		<table cellpadding="0" cellspacing="0" border="0" style="margin-left:100px;">
		<tr>
		<td valign="top">
		<p>Game Index</p>
		<p><a href="@@{[game.reset]}@@">Spiel resetten</a></p>
		<p><a href="javascript:stopUpdating();">Spiel pausieren</a></p>
		
		</td>
			<td>
				<h1>Spieler {dsGamedata::activePlayer} ist am Zug.<br />Anzahl der ZÃ¼ge: {dsGamedata::activePlayer}</h1>
			</td>
		</tr>
		<tr spry:repeat="dsGamedata">
			<td><p>{dsGamedata::num}</p></td>
		</tr>
		</table>
	</div>
</div>

<div spry:region="dsPlayerdata">
	<ul spry:repeatchildren="dsPlayerdata">
		<li>{dsPlayerdata::movecount}</li>
	</ul>
</div>

<form action="@@{[game.move]}@@" method="post">
	<table cellpadding="0" cellspacing="0" border="0" style="margin-left:100px;">
	<tr>
		<td colspan="2">		
			<object width="800" height="600">
			<param name="movie" value="testdata/test.swf">
			<embed src="testdata/test.swf" width="800" height="600">
			</embed>
			</object>
		</td>
	</table>
</form>

<!-- InstanceEndEditable -->

</body>
<!-- InstanceEnd --></html>
